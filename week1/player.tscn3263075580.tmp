[gd_scene load_steps=17 format=3 uid="uid://beoxeorr4vq38"]

[ext_resource type="Script" uid="uid://dogoid32e5122" path="res://front_axle.gd" id="1_4flbx"]
[ext_resource type="Script" uid="uid://dkekcx7v4ikhu" path="res://frame.gd" id="1_hqtel"]
[ext_resource type="Texture2D" uid="uid://r7mgpjhq1vhj" path="res://icon.svg" id="2_i3pqv"]
[ext_resource type="Script" uid="uid://bwiev16vi6vkc" path="res://back_tire.gd" id="2_onrkg"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_4flbx"]
rough = true
absorbent = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hqtel"]
albedo_texture = ExtResource("2_i3pqv")

[sub_resource type="CylinderMesh" id="CylinderMesh_sh265"]
material = SubResource("StandardMaterial3D_hqtel")
top_radius = 0.35
bottom_radius = 0.35
height = 0.05

[sub_resource type="CylinderShape3D" id="CylinderShape3D_4flbx"]
height = 0.04173584
radius = 0.34277344

[sub_resource type="CylinderMesh" id="CylinderMesh_onrkg"]
top_radius = 0.05
bottom_radius = 0.05
height = 1.0

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_i3pqv"]
points = PackedVector3Array(0.053163733, 0.50793654, 0.03728761, -0.05792563, -0.50793654, -0.04204951, -0.05792563, -0.50793654, 0.03728761, -0.05792563, 0.50793654, -0.04204951, 0.053163733, -0.50793654, -0.04204951, 0.03728761, 0.50793654, -0.05792563, 0.03728761, -0.50793654, 0.053163733, -0.04204951, 0.50793654, 0.053163733, -0.04204951, -0.50793654, -0.05792563, -0.05792563, 0.50793654, 0.03728761, -0.04204951, 0.50793654, -0.05792563, -0.04204951, -0.50793654, 0.053163733, 0.03728761, -0.50793654, -0.05792563, 0.053163733, -0.50793654, 0.03728761, 0.03728761, 0.50793654, 0.053163733, 0.053163733, 0.50793654, -0.04204951)

[sub_resource type="BoxMesh" id="BoxMesh_sh265"]

[sub_resource type="BoxShape3D" id="BoxShape3D_4flbx"]
size = Vector3(0.2, 1.9, 0.7)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_onrkg"]
rough = true
bounce = 0.01
absorbent = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_sweqy"]
albedo_texture = ExtResource("2_i3pqv")

[sub_resource type="CylinderMesh" id="CylinderMesh_4flbx"]
material = SubResource("StandardMaterial3D_sweqy")
top_radius = 0.35
bottom_radius = 0.35
height = 0.05

[sub_resource type="CylinderShape3D" id="CylinderShape3D_onrkg"]
height = 0.04173584
radius = 0.34277344

[node name="Bike" type="RigidBody3D"]
collision_mask = 2

[node name="Frame" type="RigidBody3D" parent="."]
transform = Transform3D(0.99942803, 0.03381799, 0, -0.03381799, 0.99942803, 0, 0, 0, 1, 0, 0, 0)
collision_mask = 2
center_of_mass_mode = 1
center_of_mass = Vector3(0, -2, 0)
script = ExtResource("1_hqtel")

[node name="FrontAxle" type="RigidBody3D" parent="Frame"]
collision_mask = 2
script = ExtResource("1_4flbx")

[node name="FrontWheel" type="RigidBody3D" parent="Frame/FrontAxle"]
collision_mask = 3
mass = 0.2
physics_material_override = SubResource("PhysicsMaterial_4flbx")

[node name="Wheel" type="MeshInstance3D" parent="Frame/FrontAxle/FrontWheel"]
transform = Transform3D(-4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 0, 0, 1, 0, -0.4905515, 1.3056191)
mesh = SubResource("CylinderMesh_sh265")

[node name="WheelCollider" type="CollisionShape3D" parent="Frame/FrontAxle/FrontWheel"]
transform = Transform3D(-4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 0, 0, 1, -0.00078735687, -0.4845013, 1.3000001)
shape = SubResource("CylinderShape3D_4flbx")

[node name="Hub" type="Generic6DOFJoint3D" parent="Frame/FrontAxle/FrontWheel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.51006806, 1.3146887)
node_a = NodePath("../..")
node_b = NodePath("..")
angular_limit_x/enabled = false

[node name="AxleMesh" type="MeshInstance3D" parent="Frame/FrontAxle"]
transform = Transform3D(1, 0, 0, 0, 0.895471, 0.44511986, 0, -0.44511986, 0.895471, 0.0001449585, -0.035083354, 1.085639)
mesh = SubResource("CylinderMesh_onrkg")

[node name="AxleCollider" type="CollisionShape3D" parent="Frame/FrontAxle"]
transform = Transform3D(1, 0, 0, 0, 0.895471, 0.44511986, 0, -0.44511986, 0.895471, 0.0001449585, -0.035083354, 1.085639)
shape = SubResource("ConvexPolygonShape3D_i3pqv")

[node name="Rotator" type="Generic6DOFJoint3D" parent="Frame/FrontAxle"]
transform = Transform3D(1, 0, 0, 0, 0.49999997, -0.86602545, 0, 0.86602545, 0.49999997, 0, 0.023945183, 1.0344527)
node_a = NodePath("../..")
node_b = NodePath("..")
angular_limit_z/upper_angle = 0.57595867
angular_limit_z/lower_angle = -0.57595867
angular_limit_z/damping = 6.0
angular_limit_z/force_limit = 25.0
angular_spring_z/enabled = true
angular_spring_z/stiffness = 0.5
angular_spring_z/damping = 2.0

[node name="Body" type="MeshInstance3D" parent="Frame"]
transform = Transform3D(0.19999999, 0, 0, 0, 0.6769193, 0, 0, 0, 1.8911912, 0, 0.15239239, 0.14468743)
mesh = SubResource("BoxMesh_sh265")

[node name="BodyCollider" type="CollisionShape3D" parent="Frame"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, -3.3527613e-08, 0.14999999, 0.15000004)
shape = SubResource("BoxShape3D_4flbx")

[node name="BackTire" type="RigidBody3D" parent="Frame"]
collision_mask = 3
physics_material_override = SubResource("PhysicsMaterial_onrkg")
script = ExtResource("2_onrkg")

[node name="Wheel" type="MeshInstance3D" parent="Frame/BackTire"]
transform = Transform3D(-4.4703484e-08, 1, 0, -1, -4.4703484e-08, 0, 0, 0, 1, 0, -0.49055153, -0.7975565)
mesh = SubResource("CylinderMesh_4flbx")

[node name="WheelCollider" type="CollisionShape3D" parent="Frame/BackTire"]
transform = Transform3D(-4.4703484e-08, 1, 0, -1, -4.4703484e-08, 0, 0, 0, 1, -0.00078735687, -0.48450133, -0.80317557)
shape = SubResource("CylinderShape3D_onrkg")

[node name="Hub" type="Generic6DOFJoint3D" parent="Frame/BackTire"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.8626451e-09, -0.51006806, -0.78848696)
node_a = NodePath("../..")
node_b = NodePath("..")
angular_limit_x/enabled = false
angular_limit_x/upper_angle = 2.9148743
angular_limit_x/lower_angle = -1.6842427
angular_motor_x/target_velocity = 0.87266463
angular_motor_y/target_velocity = 0.08726646
angular_motor_z/target_velocity = 0.10471976
